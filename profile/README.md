# Eternal wave

![logo](/profile/logo.png)

Экспериментально-учебный проект системы управления заказами для ресторанов и точек быстрого питания. Для использования в реальных условиях может потребоваться "доработка напильником".

# Сценарии использования

Система даёт возможность:

- Администратору: задать доступные для заказа позиции путём ручного набора либо импорта из таблиц.
- Клиенту: оставить заказ на стойке самообслуживания, следить за его статусом по инфопанелям.
- Повару: видеть позиции заказа и их параметры, проставлять статусы готовности заказа.
- Официанту: видеть готовые заказы, проставлять статусы выдачи.

Поскольку проект учебный, никакие средства безналичной оплаты не были учтены в проекте. Для их внедрения необходима модификация кода киоска для внедрения поддержки терминала, модификация сервиса ОЗ для отслеживания статусов оплаты заказов, модификация сервиса БД для хранения информации об оплате и чеков.

# Стек технологий

Все компоненты проекта разработаны на C# под .NET Core 7.

# Компоненты

## Вспомогательные

### [Библиотека](https://github.com/eternal-wave-oms/models)

Требуется для сборки всех компонентов ниже. Содержит общий код, такой как модели и клиенты API.

## Серверные

### [Сервис БД](https://github.com/eternal-wave-oms/db-server)

Предоставляет REST API для авторизации пользователей, чтения/изменения ассортимента, сохранения заказов.
Написан на ASP.NET MVC. Работает с базой данных через EF Core, проверяя права доступа и входящие данные. Используется PostgreSQL, однако для использования другой СУБД не требуется глобальных изменений.

Windows | Linux
--------|------
:heavy_check_mark:|:heavy_check_mark:

### [Сервис ОЗ](https://github.com/eternal-wave-oms/order-server)

Предоставляет SignalR сокет для обработки поступающих заказов в реальном времени. Принимает заказы, помещает их в очередь и принимает от дэшей события изменения статусов. Уведомляет инфопанель и дэши об изменении статусов. Написан на ASP.NET. Умеет работать при недоступности сервиса БД.

Windows | Linux
--------|------
:heavy_check_mark:|:heavy_check_mark:

## Клиентские

### [Дэшборд](https://github.com/eternal-wave-oms/dashboard)

GUI-приложение для поваров, официантов и администраторов. Имеет раздел заказов и раздел администратора. Раздел заказов показывает все активные заказы и позволяет отчитываться об их готовности / подаче, раздел администратора позволяет модифицировать ассортимент доступный к заказу и работать с историей закрытых заказов. Написано на Avalonia UI с использованием MVVM.

Windows | MacOS | Linux (X / Wayland) | Android
--------|-------|---------------------|--------
:heavy_check_mark:|:heavy_check_mark:|:heavy_check_mark:|:warning: (X Forwarding)

### [Киоск](https://github.com/eternal-wave-oms/kiosk)

GUI-приложение для стойки самообслуживания. Позволяет клиентам просматривать ассортимент и оставлять заказы. Написано на WPF.

Windows | MacOS | Linux (X / Wayland) | Android
--------|-------|---------------------|--------
:heavy_check_mark:|:x:|:warning: (Wine)|:x:

### [Инфопанель](https://github.com/eternal-wave-oms/orders-availibilty)

GUI-приложение для инфопанелей в зале. Отображает краткие статусы заказов и сообщает о готовности. Написано на osu!framework.

Windows | MacOS | Linux (X / Wayland) | Android
--------|-------|---------------------|--------
:heavy_check_mark:|:heavy_check_mark:|:heavy_check_mark:|:heavy_check_mark:

# Запуск

См. инструкции в каждом репозитории. Проект расчитан на загрузку исходного кода на каждый узел сети и ручной запуск через `dotnet run -c:Release`. Некоторым компонентам для работы требуется передать хосты/логины/пароли через переменные окружения.
